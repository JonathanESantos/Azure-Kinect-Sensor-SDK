\hypertarget{structk4a__calibration__t}{}\doxysection{k4a\+\_\+calibration\+\_\+t Struct Reference}
\label{structk4a__calibration__t}\index{k4a\_calibration\_t@{k4a\_calibration\_t}}


Calibration type representing device calibration.  




{\ttfamily \#include $<$k4atypes.\+h$>$}

\doxysubsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{structk4a__calibration__t_afb9c6f1ed401107b0f65a7fa6a5af910}\label{structk4a__calibration__t_afb9c6f1ed401107b0f65a7fa6a5af910}} 
\mbox{\hyperlink{structk4a__calibration__camera__t}{k4a\+\_\+calibration\+\_\+camera\+\_\+t}} \mbox{\hyperlink{structk4a__calibration__t_afb9c6f1ed401107b0f65a7fa6a5af910}{depth\+\_\+camera\+\_\+calibration}}
\begin{DoxyCompactList}\small\item\em Depth camera calibration. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structk4a__calibration__t_a3adc45fd59f6c8df46bec9848d70c565}\label{structk4a__calibration__t_a3adc45fd59f6c8df46bec9848d70c565}} 
\mbox{\hyperlink{structk4a__calibration__camera__t}{k4a\+\_\+calibration\+\_\+camera\+\_\+t}} \mbox{\hyperlink{structk4a__calibration__t_a3adc45fd59f6c8df46bec9848d70c565}{color\+\_\+camera\+\_\+calibration}}
\begin{DoxyCompactList}\small\item\em Color camera calibration. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structk4a__calibration__extrinsics__t}{k4a\+\_\+calibration\+\_\+extrinsics\+\_\+t}} \mbox{\hyperlink{structk4a__calibration__t_a03f4b1600f8088739ffeea818a5df890_a03f4b1600f8088739ffeea818a5df890}{extrinsics}} \mbox{[}\mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_gga8d5fae13125f360be86c166684cdb5c5a972984dcc30591a8f98034fb582fcfcd}{K4\+A\+\_\+\+CALIBRATION\+\_\+\+TYPE\+\_\+\+NUM}}\mbox{]}\mbox{[}\mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_gga8d5fae13125f360be86c166684cdb5c5a972984dcc30591a8f98034fb582fcfcd}{K4\+A\+\_\+\+CALIBRATION\+\_\+\+TYPE\+\_\+\+NUM}}\mbox{]}
\begin{DoxyCompactList}\small\item\em Extrinsic transformation parameters. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structk4a__calibration__t_a1b206641693220f43836e40b74585028}\label{structk4a__calibration__t_a1b206641693220f43836e40b74585028}} 
uint32\+\_\+t \mbox{\hyperlink{structk4a__calibration__t_a1b206641693220f43836e40b74585028}{depth\+\_\+mode\+\_\+id}}
\begin{DoxyCompactList}\small\item\em Depth camera mode for which calibration was obtained. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structk4a__calibration__t_a1fc290d07999eda51ddbe6765e4a4223}\label{structk4a__calibration__t_a1fc290d07999eda51ddbe6765e4a4223}} 
uint32\+\_\+t \mbox{\hyperlink{structk4a__calibration__t_a1fc290d07999eda51ddbe6765e4a4223}{color\+\_\+mode\+\_\+id}}
\begin{DoxyCompactList}\small\item\em Color camera mode for which calibration was obtained. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Related Functions}
(Note that these are not member functions.) \begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_ga4b419a99aa2220b076a4520dc2afd1e5}{k4a\+\_\+result\+\_\+t}} \mbox{\hyperlink{group___functions_gaacd1eab997ef964b5e436afa5295726e_gaacd1eab997ef964b5e436afa5295726e}{k4a\+\_\+calibration\+\_\+3d\+\_\+to\+\_\+3d}} (const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$calibration, const \mbox{\hyperlink{unionk4a__float3__t}{k4a\+\_\+float3\+\_\+t}} $\ast$source\+\_\+point3d\+\_\+mm, const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}} source\+\_\+camera, const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}} target\+\_\+camera, \mbox{\hyperlink{unionk4a__float3__t}{k4a\+\_\+float3\+\_\+t}} $\ast$target\+\_\+point3d\+\_\+mm)
\begin{DoxyCompactList}\small\item\em Transform a 3D point of a source coordinate system into a 3D point of the target coordinate system. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_ga4b419a99aa2220b076a4520dc2afd1e5}{k4a\+\_\+result\+\_\+t}} \mbox{\hyperlink{group___functions_ga664602bdb48dab38117a6c1d14b880de_ga664602bdb48dab38117a6c1d14b880de}{k4a\+\_\+calibration\+\_\+2d\+\_\+to\+\_\+3d}} (const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$calibration, const \mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$source\+\_\+point2d, const float source\+\_\+depth\+\_\+mm, const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}} source\+\_\+camera, const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}} target\+\_\+camera, \mbox{\hyperlink{unionk4a__float3__t}{k4a\+\_\+float3\+\_\+t}} $\ast$target\+\_\+point3d\+\_\+mm, int $\ast$valid)
\begin{DoxyCompactList}\small\item\em Transform a 2D pixel coordinate with an associated depth value of the source camera into a 3D point of the target coordinate system. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_ga4b419a99aa2220b076a4520dc2afd1e5}{k4a\+\_\+result\+\_\+t}} \mbox{\hyperlink{group___functions_ga2ed8b51d727425caa942aab190fc2ba9_ga2ed8b51d727425caa942aab190fc2ba9}{k4a\+\_\+calibration\+\_\+3d\+\_\+to\+\_\+2d}} (const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$calibration, const \mbox{\hyperlink{unionk4a__float3__t}{k4a\+\_\+float3\+\_\+t}} $\ast$source\+\_\+point3d\+\_\+mm, const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}} source\+\_\+camera, const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}} target\+\_\+camera, \mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$target\+\_\+point2d, int $\ast$valid)
\begin{DoxyCompactList}\small\item\em Transform a 3D point of a source coordinate system into a 2D pixel coordinate of the target camera. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_ga4b419a99aa2220b076a4520dc2afd1e5}{k4a\+\_\+result\+\_\+t}} \mbox{\hyperlink{group___functions_ga3b6bf6dedbfe67468e2f895dcce68ed4_ga3b6bf6dedbfe67468e2f895dcce68ed4}{k4a\+\_\+calibration\+\_\+2d\+\_\+to\+\_\+2d}} (const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$calibration, const \mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$source\+\_\+point2d, const float source\+\_\+depth\+\_\+mm, const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}} source\+\_\+camera, const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}} target\+\_\+camera, \mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$target\+\_\+point2d, int $\ast$valid)
\begin{DoxyCompactList}\small\item\em Transform a 2D pixel coordinate with an associated depth value of the source camera into a 2D pixel coordinate of the target camera. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_ga4b419a99aa2220b076a4520dc2afd1e5}{k4a\+\_\+result\+\_\+t}} \mbox{\hyperlink{group___functions_ga18bc3138d6cc68af6c49902853fda9b5_ga18bc3138d6cc68af6c49902853fda9b5}{k4a\+\_\+calibration\+\_\+color\+\_\+2d\+\_\+to\+\_\+depth\+\_\+2d}} (const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$calibration, const \mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$source\+\_\+point2d, const \mbox{\hyperlink{structk4a__image__t}{k4a\+\_\+image\+\_\+t}} depth\+\_\+image, \mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$target\+\_\+point2d, int $\ast$valid)
\begin{DoxyCompactList}\small\item\em Transform a 2D pixel coordinate from color camera into a 2D pixel coordinate of the depth camera. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structk4a__transformation__t}{k4a\+\_\+transformation\+\_\+t}} \mbox{\hyperlink{group___functions_ga853a1a5b6d521bbdf523a69e890c4f10_ga853a1a5b6d521bbdf523a69e890c4f10}{k4a\+\_\+transformation\+\_\+create}} (const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$calibration)
\begin{DoxyCompactList}\small\item\em Get handle to transformation handle. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Calibration type representing device calibration. 

 

\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{group___functions_ga3b6bf6dedbfe67468e2f895dcce68ed4_ga3b6bf6dedbfe67468e2f895dcce68ed4}\label{group___functions_ga3b6bf6dedbfe67468e2f895dcce68ed4_ga3b6bf6dedbfe67468e2f895dcce68ed4}} 
\index{k4a\_calibration\_t@{k4a\_calibration\_t}!k4a\_calibration\_2d\_to\_2d@{k4a\_calibration\_2d\_to\_2d}}
\index{k4a\_calibration\_2d\_to\_2d@{k4a\_calibration\_2d\_to\_2d}!k4a\_calibration\_t@{k4a\_calibration\_t}}
\doxysubsubsection{\texorpdfstring{k4a\_calibration\_2d\_to\_2d()}{k4a\_calibration\_2d\_to\_2d()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_ga4b419a99aa2220b076a4520dc2afd1e5}{k4a\+\_\+result\+\_\+t}} k4a\+\_\+calibration\+\_\+2d\+\_\+to\+\_\+2d (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$}]{calibration,  }\item[{const \mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$}]{source\+\_\+point2d,  }\item[{const float}]{source\+\_\+depth\+\_\+mm,  }\item[{const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}}}]{source\+\_\+camera,  }\item[{const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}}}]{target\+\_\+camera,  }\item[{\mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$}]{target\+\_\+point2d,  }\item[{int $\ast$}]{valid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [related]}}



Transform a 2D pixel coordinate with an associated depth value of the source camera into a 2D pixel coordinate of the target camera. 


\begin{DoxyParams}{Parameters}
{\em calibration} & Location to read the camera calibration obtained by \mbox{\hyperlink{group___functions_ga2d9b1bea66eecbbf7b2d2868f913292b_ga2d9b1bea66eecbbf7b2d2868f913292b}{k4a\+\_\+device\+\_\+get\+\_\+calibration()}}.\\
\hline
{\em source\+\_\+point2d} & The 2D pixel in {\ttfamily source\+\_\+camera} coordinates.\\
\hline
{\em source\+\_\+depth\+\_\+mm} & The depth of {\ttfamily source\+\_\+point2d} in millimeters. One way to derive the depth value in the color camera geometry is to use the function \mbox{\hyperlink{group___functions_gafacffb5f781a9c2df30d4a16241cd514_gafacffb5f781a9c2df30d4a16241cd514}{k4a\+\_\+transformation\+\_\+depth\+\_\+image\+\_\+to\+\_\+color\+\_\+camera()}}.\\
\hline
{\em source\+\_\+camera} & The current camera.\\
\hline
{\em target\+\_\+camera} & The target camera.\\
\hline
{\em target\+\_\+point2d} & The 2D pixel in {\ttfamily target\+\_\+camera} coordinates.\\
\hline
{\em valid} & The output parameter returns a value of 1 if the {\ttfamily source\+\_\+point2d} is a valid coordinate in the {\ttfamily target\+\_\+camera} coordinate system, and will return 0 if the coordinate is not valid in the calibration model.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a66d48bea75b8ddf1c568a824469da9d3}{K4\+A\+\_\+\+RESULT\+\_\+\+SUCCEEDED}} if {\ttfamily target\+\_\+point2d} was successfully written. \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5aeddb129210ca398349f6b7323f1cfbed}{K4\+A\+\_\+\+RESULT\+\_\+\+FAILED}} if {\ttfamily calibration} contained invalid transformation parameters. If the function returns \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a66d48bea75b8ddf1c568a824469da9d3}{K4\+A\+\_\+\+RESULT\+\_\+\+SUCCEEDED}}, but {\ttfamily valid} is 0, the transformation was computed, but the results in {\ttfamily target\+\_\+point2d} are outside of the range of valid calibration and should be ignored. \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a7fdd637f1645c2d8ffeb9f5dfa028a13}{K4\+A\+\_\+\+RESULT\+\_\+\+UNSUPPORTED}} if the device does not support this operation.
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
This function maps a pixel between the coordinate systems of the depth and color cameras. It is equivalent to calling \mbox{\hyperlink{group___functions_ga664602bdb48dab38117a6c1d14b880de_ga664602bdb48dab38117a6c1d14b880de}{k4a\+\_\+calibration\+\_\+2d\+\_\+to\+\_\+3d()}} to compute the 3D point corresponding to {\ttfamily source\+\_\+point2d} and then using \mbox{\hyperlink{group___functions_ga2ed8b51d727425caa942aab190fc2ba9_ga2ed8b51d727425caa942aab190fc2ba9}{k4a\+\_\+calibration\+\_\+3d\+\_\+to\+\_\+2d()}} to map the 3D point into the coordinate system of the {\ttfamily target\+\_\+camera}.

If {\ttfamily source\+\_\+camera} and {\ttfamily target\+\_\+camera} are identical, the function immediately sets {\ttfamily target\+\_\+point2d} to {\ttfamily source\+\_\+point2d} and returns without computing any transformations.

If {\ttfamily source\+\_\+point2d} does not map to a valid 2D coordinate in the {\ttfamily target\+\_\+camera} coordinate system, {\ttfamily valid} is set to 0. If it is valid, {\ttfamily valid} will be set to 1. The user should not use the value of {\ttfamily target\+\_\+point2d} if {\ttfamily valid} was set to 0.
\end{DoxyRemark}
 \mbox{\Hypertarget{group___functions_ga664602bdb48dab38117a6c1d14b880de_ga664602bdb48dab38117a6c1d14b880de}\label{group___functions_ga664602bdb48dab38117a6c1d14b880de_ga664602bdb48dab38117a6c1d14b880de}} 
\index{k4a\_calibration\_t@{k4a\_calibration\_t}!k4a\_calibration\_2d\_to\_3d@{k4a\_calibration\_2d\_to\_3d}}
\index{k4a\_calibration\_2d\_to\_3d@{k4a\_calibration\_2d\_to\_3d}!k4a\_calibration\_t@{k4a\_calibration\_t}}
\doxysubsubsection{\texorpdfstring{k4a\_calibration\_2d\_to\_3d()}{k4a\_calibration\_2d\_to\_3d()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_ga4b419a99aa2220b076a4520dc2afd1e5}{k4a\+\_\+result\+\_\+t}} k4a\+\_\+calibration\+\_\+2d\+\_\+to\+\_\+3d (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$}]{calibration,  }\item[{const \mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$}]{source\+\_\+point2d,  }\item[{const float}]{source\+\_\+depth\+\_\+mm,  }\item[{const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}}}]{source\+\_\+camera,  }\item[{const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}}}]{target\+\_\+camera,  }\item[{\mbox{\hyperlink{unionk4a__float3__t}{k4a\+\_\+float3\+\_\+t}} $\ast$}]{target\+\_\+point3d\+\_\+mm,  }\item[{int $\ast$}]{valid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [related]}}



Transform a 2D pixel coordinate with an associated depth value of the source camera into a 3D point of the target coordinate system. 


\begin{DoxyParams}{Parameters}
{\em calibration} & Location to read the camera calibration obtained by \mbox{\hyperlink{group___functions_ga2d9b1bea66eecbbf7b2d2868f913292b_ga2d9b1bea66eecbbf7b2d2868f913292b}{k4a\+\_\+device\+\_\+get\+\_\+calibration()}}.\\
\hline
{\em source\+\_\+point2d} & The 2D pixel in {\ttfamily source\+\_\+camera} coordinates.\\
\hline
{\em source\+\_\+depth\+\_\+mm} & The depth of {\ttfamily source\+\_\+point2d} in millimeters. One way to derive the depth value in the color camera geometry is to use the function \mbox{\hyperlink{group___functions_gafacffb5f781a9c2df30d4a16241cd514_gafacffb5f781a9c2df30d4a16241cd514}{k4a\+\_\+transformation\+\_\+depth\+\_\+image\+\_\+to\+\_\+color\+\_\+camera()}}.\\
\hline
{\em source\+\_\+camera} & The current camera.\\
\hline
{\em target\+\_\+camera} & The target camera.\\
\hline
{\em target\+\_\+point3d\+\_\+mm} & Pointer to the output where the 3D coordinates of the input pixel in the coordinate system of {\ttfamily target\+\_\+camera} is stored in millimeters.\\
\hline
{\em valid} & The output parameter returns a value of 1 if the {\ttfamily source\+\_\+point2d} is a valid coordinate, and will return 0 if the coordinate is not valid in the calibration model.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a66d48bea75b8ddf1c568a824469da9d3}{K4\+A\+\_\+\+RESULT\+\_\+\+SUCCEEDED}} if {\ttfamily target\+\_\+point3d\+\_\+mm} was successfully written. \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5aeddb129210ca398349f6b7323f1cfbed}{K4\+A\+\_\+\+RESULT\+\_\+\+FAILED}} if {\ttfamily calibration} contained invalid transformation parameters. If the function returns \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a66d48bea75b8ddf1c568a824469da9d3}{K4\+A\+\_\+\+RESULT\+\_\+\+SUCCEEDED}}, but {\ttfamily valid} is 0, the transformation was computed, but the results in {\ttfamily target\+\_\+point3d\+\_\+mm} are outside of the range of valid calibration and should be ignored. \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a7fdd637f1645c2d8ffeb9f5dfa028a13}{K4\+A\+\_\+\+RESULT\+\_\+\+UNSUPPORTED}} if the device does not support this operation.
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
This function applies the intrinsic calibration of {\ttfamily source\+\_\+camera} to compute the 3D ray from the focal point of the camera through pixel {\ttfamily source\+\_\+point2d}. The 3D point on this ray is then found using {\ttfamily source\+\_\+depth\+\_\+mm}. If {\ttfamily target\+\_\+camera} is different from {\ttfamily source\+\_\+camera}, the 3D point is transformed to {\ttfamily target\+\_\+camera} using \mbox{\hyperlink{group___functions_gaacd1eab997ef964b5e436afa5295726e_gaacd1eab997ef964b5e436afa5295726e}{k4a\+\_\+calibration\+\_\+3d\+\_\+to\+\_\+3d()}}. In practice, {\ttfamily source\+\_\+camera} and {\ttfamily target\+\_\+camera} will often be identical. In this case, no 3D to 3D transformation is applied.

If {\ttfamily source\+\_\+point2d} is not considered as valid pixel coordinate according to the intrinsic camera model, {\ttfamily valid} is set to 0. If it is valid, {\ttfamily valid} will be set to 1. The user should not use the value of {\ttfamily target\+\_\+point3d\+\_\+mm} if {\ttfamily valid} was set to 0.
\end{DoxyRemark}
 \mbox{\Hypertarget{group___functions_ga2ed8b51d727425caa942aab190fc2ba9_ga2ed8b51d727425caa942aab190fc2ba9}\label{group___functions_ga2ed8b51d727425caa942aab190fc2ba9_ga2ed8b51d727425caa942aab190fc2ba9}} 
\index{k4a\_calibration\_t@{k4a\_calibration\_t}!k4a\_calibration\_3d\_to\_2d@{k4a\_calibration\_3d\_to\_2d}}
\index{k4a\_calibration\_3d\_to\_2d@{k4a\_calibration\_3d\_to\_2d}!k4a\_calibration\_t@{k4a\_calibration\_t}}
\doxysubsubsection{\texorpdfstring{k4a\_calibration\_3d\_to\_2d()}{k4a\_calibration\_3d\_to\_2d()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_ga4b419a99aa2220b076a4520dc2afd1e5}{k4a\+\_\+result\+\_\+t}} k4a\+\_\+calibration\+\_\+3d\+\_\+to\+\_\+2d (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$}]{calibration,  }\item[{const \mbox{\hyperlink{unionk4a__float3__t}{k4a\+\_\+float3\+\_\+t}} $\ast$}]{source\+\_\+point3d\+\_\+mm,  }\item[{const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}}}]{source\+\_\+camera,  }\item[{const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}}}]{target\+\_\+camera,  }\item[{\mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$}]{target\+\_\+point2d,  }\item[{int $\ast$}]{valid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [related]}}



Transform a 3D point of a source coordinate system into a 2D pixel coordinate of the target camera. 


\begin{DoxyParams}{Parameters}
{\em calibration} & Location to read the camera calibration obtained by \mbox{\hyperlink{group___functions_ga2d9b1bea66eecbbf7b2d2868f913292b_ga2d9b1bea66eecbbf7b2d2868f913292b}{k4a\+\_\+device\+\_\+get\+\_\+calibration()}}.\\
\hline
{\em source\+\_\+point3d\+\_\+mm} & The 3D coordinates in millimeters representing a point in {\ttfamily source\+\_\+camera} \\
\hline
{\em source\+\_\+camera} & The current camera.\\
\hline
{\em target\+\_\+camera} & The target camera.\\
\hline
{\em target\+\_\+point2d} & Pointer to the output where the 2D pixel in {\ttfamily target\+\_\+camera} coordinates is stored.\\
\hline
{\em valid} & The output parameter returns a value of 1 if the {\ttfamily source\+\_\+point3d\+\_\+mm} is a valid coordinate in the {\ttfamily target\+\_\+camera} coordinate system, and will return 0 if the coordinate is not valid in the calibration model.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a66d48bea75b8ddf1c568a824469da9d3}{K4\+A\+\_\+\+RESULT\+\_\+\+SUCCEEDED}} if {\ttfamily target\+\_\+point2d} was successfully written. \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5aeddb129210ca398349f6b7323f1cfbed}{K4\+A\+\_\+\+RESULT\+\_\+\+FAILED}} if {\ttfamily calibration} contained invalid transformation parameters. If the function returns \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a66d48bea75b8ddf1c568a824469da9d3}{K4\+A\+\_\+\+RESULT\+\_\+\+SUCCEEDED}}, but {\ttfamily valid} is 0, the transformation was computed, but the results in {\ttfamily target\+\_\+point2d} are outside of the range of valid calibration and should be ignored. \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a7fdd637f1645c2d8ffeb9f5dfa028a13}{K4\+A\+\_\+\+RESULT\+\_\+\+UNSUPPORTED}} if the device does not support this operation.
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
If {\ttfamily target\+\_\+camera} is different from {\ttfamily source\+\_\+camera}, {\ttfamily source\+\_\+point3d\+\_\+mm} is transformed to {\ttfamily target\+\_\+camera} using \mbox{\hyperlink{group___functions_gaacd1eab997ef964b5e436afa5295726e_gaacd1eab997ef964b5e436afa5295726e}{k4a\+\_\+calibration\+\_\+3d\+\_\+to\+\_\+3d()}}. In practice, {\ttfamily source\+\_\+camera} and {\ttfamily target\+\_\+camera} will often be identical. In this case, no 3D to 3D transformation is applied. The 3D point in the coordinate system of {\ttfamily target\+\_\+camera} is then projected onto the image plane using the intrinsic calibration of {\ttfamily target\+\_\+camera}.

If {\ttfamily source\+\_\+point3d\+\_\+mm} does not map to a valid 2D coordinate in the {\ttfamily target\+\_\+camera} coordinate system, {\ttfamily valid} is set to 0. If it is valid, {\ttfamily valid} will be set to 1. The user should not use the value of {\ttfamily target\+\_\+point2d} if {\ttfamily valid} was set to 0.
\end{DoxyRemark}
 \mbox{\Hypertarget{group___functions_gaacd1eab997ef964b5e436afa5295726e_gaacd1eab997ef964b5e436afa5295726e}\label{group___functions_gaacd1eab997ef964b5e436afa5295726e_gaacd1eab997ef964b5e436afa5295726e}} 
\index{k4a\_calibration\_t@{k4a\_calibration\_t}!k4a\_calibration\_3d\_to\_3d@{k4a\_calibration\_3d\_to\_3d}}
\index{k4a\_calibration\_3d\_to\_3d@{k4a\_calibration\_3d\_to\_3d}!k4a\_calibration\_t@{k4a\_calibration\_t}}
\doxysubsubsection{\texorpdfstring{k4a\_calibration\_3d\_to\_3d()}{k4a\_calibration\_3d\_to\_3d()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_ga4b419a99aa2220b076a4520dc2afd1e5}{k4a\+\_\+result\+\_\+t}} k4a\+\_\+calibration\+\_\+3d\+\_\+to\+\_\+3d (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$}]{calibration,  }\item[{const \mbox{\hyperlink{unionk4a__float3__t}{k4a\+\_\+float3\+\_\+t}} $\ast$}]{source\+\_\+point3d\+\_\+mm,  }\item[{const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}}}]{source\+\_\+camera,  }\item[{const \mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_ga8d5fae13125f360be86c166684cdb5c5}{k4a\+\_\+calibration\+\_\+type\+\_\+t}}}]{target\+\_\+camera,  }\item[{\mbox{\hyperlink{unionk4a__float3__t}{k4a\+\_\+float3\+\_\+t}} $\ast$}]{target\+\_\+point3d\+\_\+mm }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [related]}}



Transform a 3D point of a source coordinate system into a 3D point of the target coordinate system. 


\begin{DoxyParams}{Parameters}
{\em calibration} & Location to read the camera calibration data.\\
\hline
{\em source\+\_\+point3d\+\_\+mm} & The 3D coordinates in millimeters representing a point in {\ttfamily source\+\_\+camera}.\\
\hline
{\em source\+\_\+camera} & The current camera.\\
\hline
{\em target\+\_\+camera} & The target camera.\\
\hline
{\em target\+\_\+point3d\+\_\+mm} & Pointer to the output where the new 3D coordinates of the input point in the coordinate space of {\ttfamily target\+\_\+camera} is stored in millimeters.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a66d48bea75b8ddf1c568a824469da9d3}{K4\+A\+\_\+\+RESULT\+\_\+\+SUCCEEDED}} if {\ttfamily target\+\_\+point3d\+\_\+mm} was successfully written. \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5aeddb129210ca398349f6b7323f1cfbed}{K4\+A\+\_\+\+RESULT\+\_\+\+FAILED}} if {\ttfamily calibration} contained invalid transformation parameters. \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a7fdd637f1645c2d8ffeb9f5dfa028a13}{K4\+A\+\_\+\+RESULT\+\_\+\+UNSUPPORTED}} if the device does not support this operation.
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
This function is used to transform 3D points between depth and color camera coordinate systems. The function uses the extrinsic camera calibration. It computes the output via multiplication with a precomputed matrix encoding a 3D rotation and a 3D translation. If {\ttfamily source\+\_\+camera} and {\ttfamily target\+\_\+camera} are the same, then {\ttfamily target\+\_\+point3d\+\_\+mm} will be identical to {\ttfamily source\+\_\+point3d\+\_\+mm}.
\end{DoxyRemark}
 \mbox{\Hypertarget{group___functions_ga18bc3138d6cc68af6c49902853fda9b5_ga18bc3138d6cc68af6c49902853fda9b5}\label{group___functions_ga18bc3138d6cc68af6c49902853fda9b5_ga18bc3138d6cc68af6c49902853fda9b5}} 
\index{k4a\_calibration\_t@{k4a\_calibration\_t}!k4a\_calibration\_color\_2d\_to\_depth\_2d@{k4a\_calibration\_color\_2d\_to\_depth\_2d}}
\index{k4a\_calibration\_color\_2d\_to\_depth\_2d@{k4a\_calibration\_color\_2d\_to\_depth\_2d}!k4a\_calibration\_t@{k4a\_calibration\_t}}
\doxysubsubsection{\texorpdfstring{k4a\_calibration\_color\_2d\_to\_depth\_2d()}{k4a\_calibration\_color\_2d\_to\_depth\_2d()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_ga4b419a99aa2220b076a4520dc2afd1e5}{k4a\+\_\+result\+\_\+t}} k4a\+\_\+calibration\+\_\+color\+\_\+2d\+\_\+to\+\_\+depth\+\_\+2d (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$}]{calibration,  }\item[{const \mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$}]{source\+\_\+point2d,  }\item[{const \mbox{\hyperlink{structk4a__image__t}{k4a\+\_\+image\+\_\+t}}}]{depth\+\_\+image,  }\item[{\mbox{\hyperlink{unionk4a__float2__t}{k4a\+\_\+float2\+\_\+t}} $\ast$}]{target\+\_\+point2d,  }\item[{int $\ast$}]{valid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [related]}}



Transform a 2D pixel coordinate from color camera into a 2D pixel coordinate of the depth camera. 


\begin{DoxyParams}{Parameters}
{\em calibration} & Location to read the camera calibration obtained by \mbox{\hyperlink{group___functions_ga2d9b1bea66eecbbf7b2d2868f913292b_ga2d9b1bea66eecbbf7b2d2868f913292b}{k4a\+\_\+device\+\_\+get\+\_\+calibration()}}.\\
\hline
{\em source\+\_\+point2d} & The 2D pixel in {\ttfamily color} camera coordinates.\\
\hline
{\em depth\+\_\+image} & Handle to input depth image.\\
\hline
{\em target\+\_\+point2d} & The 2D pixel in {\ttfamily depth} camera coordinates.\\
\hline
{\em valid} & The output parameter returns a value of 1 if the {\ttfamily source\+\_\+point2d} is a valid coordinate in the {\ttfamily target\+\_\+camera} coordinate system, and will return 0 if the coordinate is not valid in the calibration model.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a66d48bea75b8ddf1c568a824469da9d3}{K4\+A\+\_\+\+RESULT\+\_\+\+SUCCEEDED}} if {\ttfamily target\+\_\+point2d} was successfully written. \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5aeddb129210ca398349f6b7323f1cfbed}{K4\+A\+\_\+\+RESULT\+\_\+\+FAILED}} if {\ttfamily calibration} contained invalid transformation parameters. If the function returns \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a66d48bea75b8ddf1c568a824469da9d3}{K4\+A\+\_\+\+RESULT\+\_\+\+SUCCEEDED}}, but {\ttfamily valid} is 0, the transformation was computed, but the results in {\ttfamily target\+\_\+point2d} are outside of the range of valid calibration and should be ignored. \mbox{\hyperlink{group___enumerations_ga4b419a99aa2220b076a4520dc2afd1e5_gga4b419a99aa2220b076a4520dc2afd1e5a7fdd637f1645c2d8ffeb9f5dfa028a13}{K4\+A\+\_\+\+RESULT\+\_\+\+UNSUPPORTED}} if the device does not support this operation.
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
This function represents an alternative to \mbox{\hyperlink{group___functions_ga3b6bf6dedbfe67468e2f895dcce68ed4_ga3b6bf6dedbfe67468e2f895dcce68ed4}{k4a\+\_\+calibration\+\_\+2d\+\_\+to\+\_\+2d()}} if the number of pixels that need to be transformed is small. This function searches along an epipolar line in the depth image to find the corresponding depth pixel. If a larger number of pixels need to be transformed, it might be computationally cheaper to call \mbox{\hyperlink{group___functions_gafacffb5f781a9c2df30d4a16241cd514_gafacffb5f781a9c2df30d4a16241cd514}{k4a\+\_\+transformation\+\_\+depth\+\_\+image\+\_\+to\+\_\+color\+\_\+camera()}} to get correspondence depth values for these color pixels, then call the function \mbox{\hyperlink{group___functions_ga3b6bf6dedbfe67468e2f895dcce68ed4_ga3b6bf6dedbfe67468e2f895dcce68ed4}{k4a\+\_\+calibration\+\_\+2d\+\_\+to\+\_\+2d()}}.

If {\ttfamily source\+\_\+point2d} does not map to a valid 2D coordinate in the {\ttfamily target\+\_\+camera} coordinate system, {\ttfamily valid} is set to 0. If it is valid, {\ttfamily valid} will be set to 1. The user should not use the value of {\ttfamily target\+\_\+point2d} if {\ttfamily valid} was set to 0.
\end{DoxyRemark}
 \mbox{\Hypertarget{group___functions_ga853a1a5b6d521bbdf523a69e890c4f10_ga853a1a5b6d521bbdf523a69e890c4f10}\label{group___functions_ga853a1a5b6d521bbdf523a69e890c4f10_ga853a1a5b6d521bbdf523a69e890c4f10}} 
\index{k4a\_calibration\_t@{k4a\_calibration\_t}!k4a\_transformation\_create@{k4a\_transformation\_create}}
\index{k4a\_transformation\_create@{k4a\_transformation\_create}!k4a\_calibration\_t@{k4a\_calibration\_t}}
\doxysubsubsection{\texorpdfstring{k4a\_transformation\_create()}{k4a\_transformation\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structk4a__transformation__t}{k4a\+\_\+transformation\+\_\+t}} k4a\+\_\+transformation\+\_\+create (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structk4a__calibration__t}{k4a\+\_\+calibration\+\_\+t}} $\ast$}]{calibration }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [related]}}



Get handle to transformation handle. 


\begin{DoxyParams}{Parameters}
{\em calibration} & A calibration structure obtained by \mbox{\hyperlink{group___functions_ga2d9b1bea66eecbbf7b2d2868f913292b_ga2d9b1bea66eecbbf7b2d2868f913292b}{k4a\+\_\+device\+\_\+get\+\_\+calibration()}}.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A transformation handle. A NULL is returned if creation fails.
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
The transformation handle is used to transform images from the coordinate system of one camera into the other. Each transformation handle requires some pre-\/computed resources to be allocated, which are retained until the handle is destroyed.

The transformation handle must be destroyed with \mbox{\hyperlink{group___functions_ga7d3ecaae66f26c1a89da9042b1bc6d44_ga7d3ecaae66f26c1a89da9042b1bc6d44}{k4a\+\_\+transformation\+\_\+destroy()}} when it is no longer to be used.
\end{DoxyRemark}
 

\doxysubsection{Field Documentation}
\mbox{\Hypertarget{structk4a__calibration__t_a03f4b1600f8088739ffeea818a5df890_a03f4b1600f8088739ffeea818a5df890}\label{structk4a__calibration__t_a03f4b1600f8088739ffeea818a5df890_a03f4b1600f8088739ffeea818a5df890}} 
\index{k4a\_calibration\_t@{k4a\_calibration\_t}!extrinsics@{extrinsics}}
\index{extrinsics@{extrinsics}!k4a\_calibration\_t@{k4a\_calibration\_t}}
\doxysubsubsection{\texorpdfstring{extrinsics}{extrinsics}}
{\footnotesize\ttfamily \mbox{\hyperlink{structk4a__calibration__extrinsics__t}{k4a\+\_\+calibration\+\_\+extrinsics\+\_\+t}} k4a\+\_\+calibration\+\_\+t\+::extrinsics\mbox{[}\mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_gga8d5fae13125f360be86c166684cdb5c5a972984dcc30591a8f98034fb582fcfcd}{K4\+A\+\_\+\+CALIBRATION\+\_\+\+TYPE\+\_\+\+NUM}}\mbox{]}\mbox{[}\mbox{\hyperlink{group___enumerations_ga8d5fae13125f360be86c166684cdb5c5_gga8d5fae13125f360be86c166684cdb5c5a972984dcc30591a8f98034fb582fcfcd}{K4\+A\+\_\+\+CALIBRATION\+\_\+\+TYPE\+\_\+\+NUM}}\mbox{]}}



Extrinsic transformation parameters. 

The extrinsic parameters allow 3D coordinate conversions between depth camera, color camera, the IMU\textquotesingle{}s gyroscope and accelerometer. To transform from a source to a target 3D coordinate system, use the parameters stored under extrinsics\mbox{[}source\mbox{]}\mbox{[}target\mbox{]}. 

The documentation for this struct was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
k4atypes.\+h\item 
k4a.\+h\end{DoxyCompactItemize}
